import{_ as p,o as i,c as o,a as t,t as r,d as g,j as d,k as h,p as $,e as b,F as v,r as y,n as k,b as _,g as u,h as f,f as R,u as C,w as L,l as Y}from"./index-bde9a1ae.js";import{S as z}from"./SearchBar-9fd49d19.js";const se={props:{name:String,modifier:Number,score:Number},data(){return{}},methods:{},computed:{bonus(){return this.modifier>=0?`+${this.modifier}`:this.modifier}},created(){},mounted(){}};const ae={class:"wrapper-stat"},ne={class:"content"},ie={class:"name"},oe={class:"bonus",style:{"font-weight":"bold"}},re={class:"score"};function ce(s,e,a,n,c,l){return i(),o("div",ae,[t("div",ne,[t("span",ie,r(a.name),1),t("span",oe,r(l.bonus),1)]),t("div",re,r(a.score),1)])}const le=p(se,[["render",ce],["__scopeId","data-v-79460936"]]),B=s=>($("data-v-08435e72"),s=s(),b(),s),de={class:"wrapper"},ue=B(()=>t("span",null,"str ",-1)),he=B(()=>t("span",null,"int ",-1)),pe=B(()=>t("span",null,"dex ",-1)),_e=B(()=>t("span",null,"wis ",-1)),me=B(()=>t("span",null,"con ",-1)),ve=B(()=>t("span",null,"cha ",-1)),ge={props:{base:String},data(){return{character:h().character}},methods:{},computed:{str(){return this.character.savingthrows.strength>0?"+"+this.character.savingthrows.strength:"-"+this.character.savingthrows.strength},int(){return this.character.savingthrows.intelligence>0?"+"+this.character.savingthrows.intelligence:"-"+this.character.savingthrows.intelligence},dex(){return this.character.savingthrows.dexterity>0?"+"+this.character.savingthrows.dexterity:"-"+this.character.savingthrows.dexterity},wis(){return this.character.savingthrows.wisdom>0?"+"+this.character.savingthrows.wisdom:"-"+this.character.savingthrows.wisdom},con(){return this.character.savingthrows.constitution>0?"+"+this.character.savingthrows.constitution:"-"+this.character.savingthrows.constitution},cha(){return this.character.savingthrows.charisma>0?"+"+this.character.savingthrows.charisma:"-"+this.character.savingthrows.charisma}},created(){},mounted(){}},fe=g({...ge,__name:"SavingThrowBlock",setup(s){return(e,a)=>(i(),o("div",de,[t("div",null,[ue,d(r(e.str),1)]),t("div",null,[he,d(r(e.int),1)]),t("div",null,[pe,d(r(e.dex),1)]),t("div",null,[_e,d(r(e.wis),1)]),t("div",null,[me,d(r(e.con),1)]),t("div",null,[ve,d(r(e.cha),1)])]))}});const ye=p(fe,[["__scopeId","data-v-08435e72"]]),V=s=>($("data-v-9e99f71e"),s=s(),b(),s),$e={class:"wrapper"},be={class:"bubble"},ke=V(()=>t("div",{class:"sense"},"Passive WIS (perception)",-1)),Se={class:"bubble"},we=V(()=>t("div",{class:"sense"},"Passive INT (investigation)",-1)),Ce={class:"bubble"},Ie=V(()=>t("div",{class:"sense"},"Passive WIS (insight)",-1)),Me={props:{base:String},data(){return{character:h().character}},methods:{},computed:{},created(){},mounted(){}},Ae=g({...Me,__name:"SensesBlock",setup(s){return(e,a)=>(i(),o("div",$e,[t("div",null,[t("span",be,r(e.character.senses.passive_perception),1),d(),ke]),t("div",null,[t("span",Se,r(e.character.senses.passive_investigation),1),d(),we]),t("div",null,[t("span",Ce,r(e.character.senses.passive_insight),1),d(),Ie])]))}});const Be=p(Ae,[["__scopeId","data-v-9e99f71e"]]),M=s=>($("data-v-f38b0e38"),s=s(),b(),s),He={class:"wrapper"},Te={class:"content"},qe=M(()=>t("div",{class:"title"},"armor",-1)),Ne=M(()=>t("hr",null,null,-1)),Pe={class:"content"},je=M(()=>t("div",{class:"title"},"weapons",-1)),xe=M(()=>t("hr",null,null,-1)),Ee={class:"content"},Ve=M(()=>t("div",{class:"title"},"tool",-1)),De=M(()=>t("hr",null,null,-1)),Oe={class:"content"},Le=M(()=>t("div",{class:"title"},"languages",-1)),Ye={props:{base:String},data(){return{character:h().character}},methods:{},computed:{},created(){},mounted(){}},Ue=g({...Ye,__name:"ProficiencyBlock",setup(s){return(e,a)=>(i(),o("div",He,[t("div",Te,[qe,d(" "+r(e.character.proficiencyies.armors.join(", ")),1)]),Ne,t("div",Pe,[je,d(" "+r(e.character.proficiencyies.weapons.join(", ")),1)]),xe,t("div",Ee,[Ve,d(" "+r(e.character.proficiencyies.tools.join(", ").length>0?e.character.proficiencyies.tools.join(","):"None"),1)]),De,t("div",Oe,[Le,d(" "+r(e.character.proficiencyies.languages.join(", ")),1)])]))}});const Re=p(Ue,[["__scopeId","data-v-f38b0e38"]]),ze=s=>($("data-v-b118f144"),s=s(),b(),s),We={class:"wrapper"},Xe=ze(()=>t("div",{class:"header"},[t("span",null,"Prof"),t("span",null,"mod"),t("span",null,"skill"),t("span",null,"bonus")],-1)),Ke={class:"content"},Fe=["checked"],Ge={style:{"text-transform":"uppercase"}},Qe={style:{"border-bottom":"1px solid #d8d8d8"}},Je=["data-name"],Ze={props:{},data(){return{character:h().character}},methods:{randomMinMax(s,e){let a=s+Math.random()*(e+1-s);return Math.floor(a)},rollSkill(s){let e=parseInt(s.target.innerText),a=s.target.dataset.name,n=this.randomMinMax(1,20),c=n+e;n==1?alert("You rolled a natural 1!!! result is "+c+" for "+a):n<20?alert("You rolled "+c+" for "+a):n==20&&alert("You rolled a natural 20!!! result is "+c+" for "+a)}},computed:{bonu(){let s=this.randomMinMax(-3,8);return s>=0?`+${s}`:s}},created(){},mounted(){}},et=g({...Ze,__name:"SkillsBlock",setup(s){return(e,a)=>(i(),o("div",We,[Xe,t("div",null,[(i(!0),o(v,null,y(e.character.skills,(n,c)=>(i(),o("div",Ke,[t("input",{class:"skill-radio",readonly:"",type:"checkbox",checked:n.proficient},null,8,Fe),t("span",Ge,r(n.modifier),1),t("span",Qe,r(n.skill),1),t("span",{class:"bonus","data-name":n.skill,onClick:a[0]||(a[0]=(...l)=>e.rollSkill&&e.rollSkill(...l)),style:{}},r(n.bonus>=0?"+"+n.bonus:"-"+n.bonus),9,Je)]))),256))])]))}});const tt=p(et,[["__scopeId","data-v-b118f144"]]),st={props:{speed:Boolean,title:String,content:{type:String,default:""},footer:String},data(){return{parsedContent:this.content}},methods:{},computed:{},created(){},mounted(){var s;typeof parseInt(this.parsedContent)=="number"&&!((s=this.content)!=null&&s.includes("ft"))&&(this.parsedContent="+"+this.parsedContent)}};const at={class:"wrapper"},nt={class:"bonus"},it={class:"footer"};function ot(s,e,a,n,c,l){return i(),o("div",at,[t("div",{class:k(["title",{speed:a.speed}])},[t("h3",null,r(a.title),1)],2),t("div",nt,[t("h2",null,r(c.parsedContent),1)]),t("div",it,[t("h3",null,r(a.footer),1)])])}const U=p(st,[["render",ot],["__scopeId","data-v-fc985c10"]]),q=s=>($("data-v-a4583446"),s=s(),b(),s),rt={class:"inputs"},ct={ref:"health_input",min:"0",class:"input",type:"number"},lt={class:"health-container"},dt={class:"test"},ut=q(()=>t("span",{class:"title"},"current",-1)),ht=["max","value"],pt=q(()=>t("span",{class:"title"},"/",-1)),_t={class:"test"},mt=q(()=>t("span",{class:"title"},"max",-1)),vt=["value"],gt={class:"test"},ft=q(()=>t("span",{class:"title"},"temp",-1)),yt=["value"],$t=q(()=>t("div",{class:"footer"}," HIT POINTS ",-1)),bt={props:{max:Number,current:Number,temp:Number},data(){return{maxHealth:this.max?this.max:42,currentHealth:this.current?this.current:12,tempHP:this.temp?this.temp:null,characterStore:h()}},methods:{heal(){let s=this.$refs.health_input.value;s==""&&(s=0),this.currentHealth+=parseInt(s),this.currentHealth>this.maxHealth&&(this.currentHealth=this.maxHealth),this.$refs.health_input.value=null,this.characterStore.updateCurrentHP(this.currentHealth)},damage(){let s=this.$refs.health_input.value;if(s==""&&(s=0),this.tempHP<=0)this.currentHealth-=parseInt(s),this.currentHealth<0&&(this.currentHealth=0),this.$refs.health_input.value=null;else if(this.tempHP>0){let e=this.tempHP-parseInt(s);if(e>0)this.tempHP=e;else{this.tempHP=null;let a=this.currentHealth-Math.abs(e);this.currentHealth=a}}this.$refs.health_input.value=null,this.characterStore.updateCurrentHP(this.currentHealth),this.characterStore.updateTempHP(this.tempHP)},healthChange(s){let e=s.target.value,a=s.target.name;a=="health"&&(this.currentHealth=parseInt(e)),a=="temp"&&(this.tempHP=parseInt(e)),this.characterStore.updateCurrentHP(this.currentHealth),this.characterStore.updateTempHP(this.tempHP)},openManager(s){let e=s.target.localName;["input","button"].includes(e)||(this.characterStore.setManagerCaller("health"),this.characterStore.displayManager())}},computed:{},created(){},mounted(){}},kt=g({...bt,__name:"HealthBlock",setup(s){return(e,a)=>(i(),o("div",{class:"wrapper",onClick:a[4]||(a[4]=(...n)=>e.openManager&&e.openManager(...n))},[t("div",rt,[t("button",{onClick:a[0]||(a[0]=(...n)=>e.heal&&e.heal(...n)),class:"input heal"},"heal"),t("input",ct,null,512),t("button",{onClick:a[1]||(a[1]=(...n)=>e.damage&&e.damage(...n)),class:"input damage"},"damage")]),t("div",lt,[t("div",dt,[ut,t("input",{class:"health-input",type:"number",onChange:a[2]||(a[2]=(...n)=>e.healthChange&&e.healthChange(...n)),name:"health",min:"0",max:e.maxHealth,value:e.currentHealth},null,40,ht)]),pt,t("div",_t,[mt,t("input",{class:"health-input",type:"number",readonly:"",value:e.maxHealth},null,8,vt)]),t("div",gt,[ft,t("input",{class:"health-input",type:"number",placeholder:"--",onChange:a[3]||(a[3]=(...n)=>e.healthChange&&e.healthChange(...n)),name:"temp",min:"0",value:e.tempHP},null,40,yt)])]),$t]))}});const St=p(kt,[["__scopeId","data-v-a4583446"]]),wt={props:{defences:{type:Array,default:[]},conditions:{type:Array,default:[]}},data(){return{}},methods:{},computed:{defencesList(){var s;return this.defences.length>0?(s=this.defences)==null?void 0:s.join(", "):"Add Active Defences"},conditionList(){var s;return this.conditions.length>0?(s=this.conditions)==null?void 0:s.join(", "):"Add Active Conditions"}},created(){},mounted(){}};const W=s=>($("data-v-5533783e"),s=s(),b(),s),Ct={class:"wrapper"},It={class:"defences"},Mt=W(()=>t("span",{class:"title"},"Defences",-1)),At={class:"conditions"},Bt=W(()=>t("span",{class:"title"},"conditions",-1));function Ht(s,e,a,n,c,l){return i(),o("div",Ct,[t("div",It,[Mt,t("p",null,r(l.defencesList),1)]),t("div",At,[Bt,t("p",null,r(l.conditionList),1)])])}const Tt=p(wt,[["render",Ht],["__scopeId","data-v-5533783e"]]),qt={emits:["selected"],props:{tabs:Array,sub:Boolean},data(){return{}},methods:{checkInput(s){var e;(e=this.tabs)==null||e.forEach((a,n)=>{this.$refs["item"+n][0].classList.remove("tab-active")}),this.$refs[s.target.id][0].classList.add("tab-active"),this.$emit("selected",this.$refs[s.target.id][0].dataset.name)}},computed:{},created(){},mounted(){this.$emit("selected",this.tabs[2])}};const Nt={class:"nav-bar-wrapper"},Pt=["id","data-name"];function jt(s,e,a,n,c,l){return i(),o("div",Nt,[t("div",{class:k(["tab-container",{sub:a.sub}])},[(i(!0),o(v,null,y(a.tabs,(m,S)=>(i(),o("div",{ref_for:!0,ref:"item"+S,id:"item"+S,onClick:e[0]||(e[0]=(...w)=>l.checkInput&&l.checkInput(...w)),class:k(["tab idle",{"tab-active":S==2,sub:a.sub}]),"data-name":m},r(m),11,Pt))),256))],2)])}const D=p(qt,[["render",jt],["__scopeId","data-v-d3eca2ef"]]),xt={props:{icon:{type:String,default:"X"},name:{type:String,default:"Mace"},attack_type:{type:String,default:"Melee Weapon"},range:{type:String,default:"5ft"},range_type:{type:String,default:"reach"},hit_dc:{type:String,default:"4"},damage:{type:String,default:"1d6+1"},damage_icon:{type:String,default:"X"},notes:{type:String,default:"Simple"}},data(){return{}},methods:{rollHit(s){let e=parseInt(s.target.innerText),a=this.randomMinMax(1,20),n=e+a;a==20?alert(`You rolled a ${n} with a natural 20!!!`):a==1?alert(`You rolled a ${n} with a natural 1!!!`):alert(`You rolled a ${n}`)},rollDamage(s){let e=s.target.innerText.split("d"),a=e[0];if(e[1]){let n=e[1].split("+")[0],c=parseInt(e[1].split("+")[1])?parseInt(e[1].split("+")[1]):0,l=0,m=[];for(let w=0;w<parseInt(a);w++){const T=this.randomMinMax(1,parseInt(n));m.push(T),l+=T}let S=l+c;alert(`You did ${S} damage! ( ${m.join("+ ")} ) ${c>0?"+ "+c:""} `)}else alert(`You did ${a} damage!`)},randomMinMax(s,e){let a=s+Math.random()*(e+1-s);return Math.floor(a)}},computed:{},created(){},mounted(){}};const Et={class:"attack-container"},Vt=["src"],Dt={class:"attack-name"},Ot={class:"attack-type"},Lt={class:"attack-range"},Yt={class:"attack-type"},Ut={key:1,class:"hit flex"},Rt={class:"mod"},zt={style:{"font-size":"15px","font-weight":"bold"}},Wt=["src"],Xt={class:"notes"};function Kt(s,e,a,n,c,l){return i(),o("div",Et,[t("img",{class:"attack-icon",src:a.icon},null,8,Vt),t("div",Dt,[d(r(a.name),1),t("span",Ot,r(a.attack_type),1)]),t("div",Lt,[d(r(a.range),1),t("span",Yt,r(a.range_type),1)]),a.hit_dc.includes("|")?(i(),o("div",Ut,[t("span",Rt,r(a.hit_dc.split("|")[1].toUpperCase()),1),t("span",zt,r(a.hit_dc.split("|")[0]),1)])):(i(),o("div",{key:0,class:"clickable hit",onClick:e[0]||(e[0]=(...m)=>l.rollHit&&l.rollHit(...m))},r(parseInt(a.hit_dc)>=0?"+"+a.hit_dc:"-"+a.hit_dc),1)),t("div",{class:"clickable damage",onClick:e[1]||(e[1]=(...m)=>l.rollDamage&&l.rollDamage(...m))},[d(r(a.damage),1),t("img",{src:a.damage_icon,class:"attack-icon"},null,8,Wt)]),t("div",Xt,r(a.notes),1)])}const E=p(xt,[["render",Kt],["__scopeId","data-v-7f727ed7"]]),P=s=>($("data-v-5e79cb3d"),s=s(),b(),s),Ft={class:"wrapper"},Gt=P(()=>t("div",{class:"title"},[t("span",{class:"title-text"},"actions â€¢ "),d("Attacks per Action: "+r(1))],-1)),Qt=P(()=>t("div",{class:"attack-header"},[t("span"),t("span",null,"attack"),t("span",null,"range"),t("span",null,"hit / dc"),t("span",null,"damage"),t("span",null,"notes")],-1)),Jt={key:0},Zt=P(()=>t("div",{class:"title"},[t("span",{class:"title-text"},"bonus actions")],-1)),es=P(()=>t("div",{class:"attack-header"},[t("span"),t("span",null,"attack"),t("span",null,"range"),t("span",null,"hit / dc"),t("span",null,"damage"),t("span",null,"notes")],-1)),ts={props:{focused:Boolean},data(){return{attacks:h().character.actions.attacks,regular:[],bonus:[]}},methods:{},computed:{},created(){},mounted(){this.attacks.forEach(s=>{s.bonus?s.bonus&&this.bonus.push(s):this.regular.push(s)})}},ss=g({...ts,__name:"AttackTab",setup(s){return(e,a)=>(i(),o("div",Ft,[Gt,Qt,(i(!0),o(v,null,y(e.regular,(n,c)=>(i(),_(E,{icon:n.icon,name:n.name,attack_type:n.attack_type,range:n.range,range_type:n.range_type,hit_dc:n.hit_dc+"",damage:n.damage,damage_icon:n.damage_icon,notes:n.notes},null,8,["icon","name","attack_type","range","range_type","hit_dc","damage","damage_icon","notes"]))),256)),s.focused?(i(),o("div",Jt,[Zt,es,(i(!0),o(v,null,y(e.bonus,(n,c)=>(i(),_(E,{icon:n.icon,name:n.name,attack_type:n.attack_type,range:n.range,range_type:n.range_type,hit_dc:n.hit_dc+"",damage:n.damage,damage_icon:n.damage_icon,notes:n.notes},null,8,["icon","name","attack_type","range","range_type","hit_dc","damage","damage_icon","notes"]))),256))])):u("",!0)]))}});const X=p(ss,[["__scopeId","data-v-5e79cb3d"]]),as={emits:["used"],props:{text:String,title:String,amount:{type:Number,default:0},frequency:String,used:{type:Number,default:0},bold:Boolean},data(){return{size:new Array(this.amount)}},methods:{click(s){[...s.target.classList].includes("used")?this.$emit("used",this.used-1):this.$emit("used",this.used+1)}},computed:{parsedText(){return this.text},parsedTextBold(){return this.text}},created(){},mounted(){}};const ns={class:"action-text-container"},is={class:"title"},os=["innerHTML"],rs={key:1,class:"border-left-thick"},cs={key:2,class:"input-container"},ls={class:"frequency"};function ds(s,e,a,n,c,l){return i(),o("div",ns,[t("h3",is,r(a.title),1),a.bold?u("",!0):(i(),o("p",{key:0,innerHTML:l.parsedText,class:"text"},null,8,os)),a.bold?(i(),o("div",rs,r(l.parsedTextBold),1)):u("",!0),a.amount>0?(i(),o("div",cs,[(i(!0),o(v,null,y(c.size,(m,S)=>(i(),o("div",null,[t("div",{onClick:e[0]||(e[0]=(...w)=>l.click&&l.click(...w)),role:"checkbox",class:k([{used:S+1<=a.used},"checkbox"]),"aria-checked":"false","aria-label":"use"},null,2)]))),256)),t("span",ls,"/ "+r(a.frequency),1)])):u("",!0)])}const N=p(as,[["render",ds],["__scopeId","data-v-f9e01c46"]]),K=s=>($("data-v-cc14d4c2"),s=s(),b(),s),us={class:"container"},hs={class:"action-wrapper"},ps=K(()=>t("h3",{class:"title"},"Actions in Combat",-1)),_s=K(()=>t("div",{class:"border-left-thick"}," Attack, Cast a Spell, Dash, Disengage, Dodge, Grapple, Help, Hide, Improvise, Ready, Search, Shove, Use an Object ",-1)),ms={props:{focused:Boolean},data(){return{actions:h().character.actions.action}},methods:{},computed:{},created(){},mounted(){}},vs=g({...ms,__name:"ActionTab",setup(s){return(e,a)=>(i(),o("div",us,[s.focused?(i(),_(X,{key:0})):u("",!0),t("div",hs,[ps,_s,(i(!0),o(v,null,y(e.actions,(n,c)=>(i(),_(N,{title:n.title,text:n.text,amount:n.times,frequency:n.frequency,used:n.used,onUsed:l=>e.actions[c].used=l},null,8,["title","text","amount","frequency","used","onUsed"]))),256))])]))}});const gs=p(vs,[["__scopeId","data-v-cc14d4c2"]]),F=s=>($("data-v-d1e13806"),s=s(),b(),s),fs={class:"container"},ys=F(()=>t("div",{class:"title"},[t("span",{class:"title-text"},"bonus actions")],-1)),$s={key:0},bs=F(()=>t("div",{class:"attack-header"},[t("span"),t("span",null,"attack"),t("span",null,"range"),t("span",null,"hit / dc"),t("span",null,"damage"),t("span",null,"notes")],-1)),ks={props:{base:String},data(){return{attacks:h().character.actions.attacks,actions:h().character.actions.action,spells:h().character.spells,bonus_actions:[],hasAttacks:!1,hasActions:!1,isSpellcaster:h().character.spellcaster,spelltextArray:[]}},methods:{},computed:{},created(){},mounted(){this.attacks.forEach(s=>{s.bonus&&(this.bonus_actions.push(s),this.hasAttacks=!0)}),this.actions.forEach(s=>{s.bonus&&(this.bonus_actions.push(s),this.hasActions=!0)}),Object.keys(this.spells).forEach((s,e)=>{this.spells[s].spells.forEach(a=>{a.bonus&&(console.log(a.name,s.split(" ")[0]),this.spelltextArray.push(`${a.name} (${s.split(" ")[0]})`))})})}},Ss=g({...ks,__name:"BonusActionTab",setup(s){return(e,a)=>(i(),o("div",fs,[ys,e.hasAttacks?(i(),o("div",$s,[bs,(i(!0),o(v,null,y(e.bonus_actions,n=>(i(),_(E,{icon:"O",name:"spiritual weapon",attack_type:"melee weapon",range:"60ft",range_type:"reach",hit_dc:"8",damage:"1d8+3",damage_icon:"/",notes:"D: 1m, V/S"}))),256))])):u("",!0),f(N,{bold:"",title:"Actions in Combat",text:"Two-Weapon Fighting"}),e.isSpellcaster?(i(!0),o(v,{key:1},y([{title:"Spells",text:e.spelltextArray}],n=>(i(),_(N,{bold:"",title:n.title,text:n.text.join(", ")},null,8,["title","text"]))),256)):u("",!0)]))}});const ws=p(Ss,[["__scopeId","data-v-d1e13806"]]),Cs=s=>($("data-v-2b7210de"),s=s(),b(),s),Is={class:"wrapper"},Ms=Cs(()=>t("div",{class:"title"},[t("span",{class:"title-text"},"reactions")],-1)),As={props:{base:String},data(){return{}},methods:{},computed:{},created(){},mounted(){}},Bs=g({...As,__name:"ReactionTab",setup(s){return(e,a)=>(i(),o("div",Is,[Ms,f(N,{bold:"",title:"Actions in Combat",text:"Opportunity attack"})]))}});const Hs=p(Bs,[["__scopeId","data-v-2b7210de"]]),Ts={class:"wrap"},qs={class:"content"},Ns={props:{base:String},data(){return{tabs:["all","attack","action","bonus action","reaction","other","limited use"],selected:""}},methods:{},computed:{},created(){},mounted(){}},Ps=g({...Ns,__name:"PrimaryBoxActions",setup(s){return(e,a)=>(i(),o("div",Ts,[f(D,{onSelected:a[0]||(a[0]=n=>e.selected=n),tabs:e.tabs,sub:""},null,8,["tabs"]),t("div",qs,[e.selected=="attack"||e.selected=="all"?(i(),_(X,{key:0,focused:e.selected=="attack"},null,8,["focused"])):u("",!0),e.selected=="action"||e.selected=="all"?(i(),_(gs,{key:1,focused:e.selected=="action"},null,8,["focused"])):u("",!0),e.selected=="bonus action"||e.selected=="all"?(i(),_(ws,{key:2})):u("",!0),e.selected=="reaction"||e.selected=="all"?(i(),_(Hs,{key:3})):u("",!0)])]))}});const js=p(Ps,[["__scopeId","data-v-2a2a4a32"]]),xs={emits:["usedSpell"],props:{frequency:{type:String,default:"cast"},name:{type:String,default:"Mace"},class:{type:String,default:"cleric"},time:{type:String,default:"1A"},range:{type:String,default:"50ft"},hit_dc:{type:String,default:"6"},effect:{type:String,default:"1d8+6"},notes:{type:String,default:"D: 1m, V/S"},concentration:{type:Boolean,default:!1},ritual:{type:Boolean,default:!1},slots:{type:Number,default:0},used:{type:Number,default:0}},data(){return{}},methods:{rollHit(s){let e=parseInt(s.target.innerText),a=this.randomMinMax(1,20),n=e+a;a==20?alert(`You rolled a ${n} with a natural 20!!!`):a==1?alert(`You rolled a ${n} with a natural 1!!!`):alert(`You rolled a ${n}`)},rollDamage(s){if(this.isNumber(s.target.innerText))if(this.used>=this.slots)alert("You don't have any spell slots left for this tier of magic");else{let e=s.target.innerText.split("d"),a=e[0];if(e[1]){let n=e[1].split("+")[0],c=parseInt(e[1].split("+")[1])?parseInt(e[1].split("+")[1]):0,l=0,m=[];for(let w=0;w<parseInt(a);w++){const T=this.randomMinMax(1,parseInt(n));m.push(T),l+=T}let S=l+c;alert(`You did ${S} damage! ( ${m.join("+ ")} ) ${c>0?"+ "+c:""} `)}else alert(`You did ${a} damage!`);this.$emit("usedSpell",1)}},randomMinMax(s,e){let a=s+Math.random()*(e+1-s);return Math.floor(a)},isNumber(s){let e=/\dd\d\+6\d/,a=/[0-9]+/i;return e.test(s)||a.test(s)}},computed:{notesParsed(){let s=this.notes.split(" "),e="";return s.forEach(a=>{let n=a;a.includes("/src")&&(n=`<img style="margin-left: 5px;height: 15px;width: 15px;" src="${a.replaceAll(",","")}" class="attack-icon"> `),e+=n}),e=e,e}},created(){},mounted(){}};const Es={class:"attack-container"},Vs={style:{"text-align":"center","margin-right":"8px"}},Ds={class:"attack-name"},Os={class:"attack-type"},Ls={class:"attack-name"},Ys={class:"attack-range"},Us={key:1,class:"hit flex"},Rs={class:"mod"},zs={style:{"font-size":"15px","font-weight":"bold"}},Ws=["src"],Xs=["innerHTML"];function Ks(s,e,a,n,c,l){return i(),o("div",Es,[t("div",Vs,r(a.frequency),1),t("div",Ds,[d(r(a.name),1),t("span",Os,r(a.class),1)]),t("div",Ls,r(a.time),1),t("div",Ys,r(a.range),1),a.hit_dc.includes("|")?(i(),o("div",Us,[t("span",Rs,r(a.hit_dc.split("|")[1].toUpperCase()),1),t("span",zs,r(a.hit_dc.split("|")[0]),1)])):(i(),o("div",{key:0,class:k(["hit",{clickable:!a.hit_dc.includes("--"),flex:a.hit_dc.includes("--")}]),onClick:e[0]||(e[0]=(...m)=>l.rollHit&&l.rollHit(...m))},r(parseInt(a.hit_dc)>=0?"+"+a.hit_dc:"-"+a.hit_dc),3)),t("div",{class:k(["damage",{clickable:l.isNumber(a.effect.split(" ")[0])}]),onClick:e[1]||(e[1]=(...m)=>l.rollDamage&&l.rollDamage(...m))},[d(r(a.effect.split(" ")[0]),1),a.effect.split(" ")[1]?(i(),o("img",{key:0,src:a.effect.split(" ")[1],class:"attack-icon"},null,8,Ws)):u("",!0)],2),t("div",{innerHTML:l.notesParsed,class:"notes"},null,8,Xs)])}const Fs=p(xs,[["render",Ks],["__scopeId","data-v-840f7c1f"]]),G=s=>($("data-v-6c1329dc"),s=s(),b(),s),Gs={class:"wrap"},Qs=R('<div class="header" data-v-6c1329dc><div class="casting-info" data-v-6c1329dc><span data-v-6c1329dc>+3</span> <span class="subtitle" data-v-6c1329dc>Modifier</span></div><div class="casting-info" data-v-6c1329dc><span data-v-6c1329dc>+6</span> <span class="subtitle" data-v-6c1329dc>Spell Attack</span></div><div class="casting-info" data-v-6c1329dc><span data-v-6c1329dc>14</span> <span class="subtitle" data-v-6c1329dc>save dc</span></div></div>',1),Js={class:"searchbar-container"},Zs={class:"content"},ea={class:"spell-container"},ta={class:"title-container"},sa={class:"title"},aa={key:0},na={class:"input-container"},ia=["onClick"],oa=G(()=>t("span",{style:{"text-transform":"uppercase","font-weight":"bold","padding-top":"3px"}},"slots",-1)),ra=G(()=>t("div",{class:"spell-header"},[t("span"),t("span",null,"name"),t("span",null,"time"),t("span",null,"range"),t("span",null,"hit/dc"),t("span",null,"effect"),t("span",null,"notes")],-1)),ca={props:{base:String},data(){return{spells:h().character.spells,searchTerm:""}},methods:{click(s,e){[...s.target.classList].includes("used")?this.spells[e].used--:this.spells[e].used++},obeySearch(s){return s.name.includes(this.searchTerm)||s.class.includes(this.searchTerm)||s.time.includes(this.searchTerm)||s.notes.includes(this.searchTerm)||s.effect.includes(this.searchTerm)||s.range.includes(this.searchTerm)||s.hit_dc.includes(this.searchTerm)}},computed:{},created(){},mounted(){}},la=g({...ca,__name:"PrimaryBoxSpells",setup(s){return(e,a)=>(i(),o("div",Gs,[Qs,t("div",Js,[f(z,{onSearchTerm:a[0]||(a[0]=n=>e.searchTerm=n),small:"",icon:"",placeholder:"Search Spell Names, Casting Times, Damage Types, Conditions or Tags"})]),t("div",Zs,[(i(!0),o(v,null,y(Object.keys(e.spells),n=>(i(),o("div",ea,[t("div",ta,[t("span",sa,r(n),1),e.spells[n].slots>1?(i(),o("span",aa,[t("div",na,[(i(!0),o(v,null,y(e.spells[n].slots,(c,l)=>(i(),o("div",null,[t("div",{onClick:m=>e.click(m,n),role:"checkbox",class:k([{used:l+1<=e.spells[n].used},"checkbox"]),"aria-checked":"false","aria-label":"use"},null,10,ia)]))),256)),oa])])):u("",!0)]),ra,(i(!0),o(v,null,y(e.spells[n].spells,c=>(i(),o(v,null,[e.obeySearch(c)?(i(),_(Fs,{key:0,onUsedSpell:l=>e.spells[n].used+=l,frequency:c.frequency,name:c.name,class:k(c.class),time:c.time,range:c.range,hit_dc:c.hit_dc,effect:c.effect,notes:c.notes,concentration:c.concentration,ritual:c.ritual,slots:e.spells[n].slots,used:e.spells[n].used},null,8,["onUsedSpell","frequency","name","class","time","range","hit_dc","effect","notes","concentration","ritual","slots","used"])):u("",!0)],64))),256))]))),256))])]))}});const da=p(la,[["__scopeId","data-v-6c1329dc"]]),Q="/vue_website/assets/copper-641c2760.svg",J="/vue_website/assets/silver-6a922af4.svg",Z="/vue_website/assets/electrum-05580d01.svg",O="/vue_website/assets/gold-ab23aa8b.svg",ee="/vue_website/assets/platinum-00f48af3.svg",ua={class:"wrap"},ha={class:"test"},pa={key:0},_a={key:1,class:"empty",style:{"margin-left":"8px"}},ma={style:{display:"flex","flex-direction":"column"}},va={style:{"font-size":"12px",color:"#A8A8A8"}},ga={key:2},fa={key:3,class:"empty"},ya={key:4},$a={key:5,class:"empty"},ba={props:{name:String,subname:String,active:Number,weight:Number,quantity:Number,cost:Number,notes:String,location:String},data(){return{characterStore:h()}},methods:{click(s){this.characterStore.updateActiveEquipment(this.name,this.location)}},computed:{isActive(){let s=this.characterStore.getItemInventory(this.name,this.location);return console.log(this.name,this.location,s),s.active}},created(){},mounted(){}},ka=g({...ba,__name:"Item",setup(s){return(e,a)=>(i(),o("div",ua,[t("div",ha,[s.active>=0?(i(),o("span",pa,[t("div",{onClick:a[0]||(a[0]=(...n)=>e.click&&e.click(...n)),class:k(["checkbox",{used:e.isActive==1}])},null,2)])):(i(),o("span",_a,"--")),t("div",ma,[t("span",null,r(s.name),1),t("span",va,r(s.subname),1)]),t("span",null,r(s.weight),1),s.quantity>0?(i(),o("span",ga,r(s.quantity),1)):(i(),o("span",fa,r("--"))),s.cost>0?(i(),o("span",ya,r(s.cost),1)):(i(),o("span",$a,r("--"))),t("span",null,r(s.notes),1)])]))}});const x=p(ka,[["__scopeId","data-v-0943bcc8"]]),H=s=>($("data-v-58897807"),s=s(),b(),s),Sa={class:"wrap"},wa={key:0,class:"money-wrapper",title:"platinum pieces"},Ca=["src"],Ia={key:1,class:"money-wrapper",title:"gold pieces"},Ma=["src"],Aa={key:2,class:"money-wrapper",title:"electrum pieces"},Ba=["src"],Ha={key:3,class:"money-wrapper",title:"silver pieces"},Ta=["src"],qa={key:4,class:"money-wrapper",title:"copper pieces"},Na=["src"],Pa={class:"searchbar-container"},ja=R('<div class="header" data-v-58897807><span class="title" data-v-58897807>active</span><span class="title" data-v-58897807>name</span><span class="title" data-v-58897807>weight</span><span class="title" data-v-58897807>qty</span><span class="title" data-v-58897807>cost(gp)</span><span class="title" data-v-58897807>notes</span></div>',1),xa={class:"content"},Ea={key:0,style:{"margin-bottom":"2rem"}},Va={class:"inventory-info"},Da={class:"title"},Oa={class:"title"},La=H(()=>t("span",{style:{"text-transform":"lowercase",color:"#A8A8A8"}},"lb",-1)),Ya={key:0},Ua={style:{display:"flex","justify-content":"space-between","margin-top":"1.2rem"}},Ra=H(()=>t("span",{style:{cursor:"pointer"}},"+ Add Equipment",-1)),za={key:1,style:{"margin-bottom":"2rem"}},Wa={class:"inventory-info"},Xa={class:"title"},Ka={class:"title"},Fa=H(()=>t("span",{style:{"text-transform":"lowercase",color:"#A8A8A8"}},"lb",-1)),Ga={key:0},Qa={style:{display:"flex","justify-content":"space-between","margin-top":"1.2rem"}},Ja=H(()=>t("span",{style:{cursor:"pointer"}},"+ Add Equipment",-1)),Za={key:2,style:{"margin-bottom":"2rem"}},en={class:"inventory-info"},tn={class:"title"},sn={class:"title"},an=H(()=>t("span",{style:{"text-transform":"lowercase",color:"#A8A8A8"}},"lb",-1)),nn={key:0},on={style:{display:"flex","justify-content":"space-between","margin-top":"1.2rem"}},rn=H(()=>t("span",{style:{cursor:"pointer"}},"+ Add Equipment",-1)),cn={props:{base:String},data(){return{character:h().character,characterStore:h(),copper:h().character.inventory.copper,silver:h().character.inventory.silver,electrum:h().character.inventory.electrum,gold:h().character.inventory.gold,platinum:h().character.inventory.platinum,tabs:["All","equipment"],tabSelected:"",displayEquipment:!0,displayAlmsBox:!0,displayBackpack:!0}},methods:{openManager(s){this.characterStore.setManagerCaller("money"),this.characterStore.displayManager()}},computed:{},created(){this.character.inventory.hasAlmsBox&&this.tabs.push("alms box"),this.character.inventory.hasBackpack&&this.tabs.push("backpack")},mounted(){}},ln=g({...cn,__name:"PrimaryBoxInventory",setup(s){return(e,a)=>(i(),o("div",Sa,[t("div",{class:"money-container","data-manager-item":"true",onClick:a[0]||(a[0]=(...n)=>e.openManager&&e.openManager(...n))},[e.platinum>0?(i(),o("div",wa,[d(r(e.platinum)+" ",1),t("img",{class:"money-icon",src:C(ee),alt:"platinum icon"},null,8,Ca)])):u("",!0),e.gold>0?(i(),o("div",Ia,[d(r(e.gold)+" ",1),t("img",{class:"money-icon",src:C(O),alt:"gold icon"},null,8,Ma)])):u("",!0),e.electrum>0?(i(),o("div",Aa,[d(r(e.electrum)+" ",1),t("img",{class:"money-icon",src:C(Z),alt:"electrum icon"},null,8,Ba)])):u("",!0),e.silver>0?(i(),o("div",Ha,[d(r(e.silver)+" ",1),t("img",{class:"money-icon",src:C(J),alt:"silver icon"},null,8,Ta)])):u("",!0),e.copper>0?(i(),o("div",qa,[d(r(e.copper)+" ",1),t("img",{class:"money-icon",src:C(Q),alt:"copper icon"},null,8,Na)])):u("",!0)]),t("div",Pa,[f(z,{onSearchTerm:a[1]||(a[1]=()=>{}),icon:"",small:""})]),f(D,{onSelected:a[2]||(a[2]=n=>e.tabSelected=n),sub:"",tabs:e.tabs},null,8,["tabs"]),ja,t("div",xa,[e.tabSelected=="All"||e.tabSelected=="equipment"?(i(),o("div",Ea,[t("div",Va,[t("span",Da,[d("EQUIPMENT"),t("span",null," ("+r(e.characterStore.getEquipementInventory().length)+") ",1)]),t("span",Oa,[d(r(e.characterStore.getItemInventoryWeight("equipment"))+" ",1),La])]),e.displayEquipment?(i(),o("div",Ya,[(i(!0),o(v,null,y(e.characterStore.getEquipementInventory(),n=>(i(),_(x,{name:n.name,subname:n.subname,active:n.active,weight:n.weight,quantity:n.quantity,cost:n.cost,notes:n.notes,location:"equipment"},null,8,["name","subname","active","weight","quantity","cost","notes"]))),256))])):u("",!0),t("div",Ua,[Ra,e.displayEquipment?(i(),o("span",{key:0,onClick:a[3]||(a[3]=n=>e.displayEquipment=!e.displayEquipment),style:{cursor:"pointer"}},"Hide Content")):(i(),o("span",{key:1,onClick:a[4]||(a[4]=n=>e.displayEquipment=!e.displayEquipment),style:{cursor:"pointer"}},"Show Content"))])])):u("",!0),e.tabSelected=="All"||e.tabSelected=="alms box"?(i(),o("div",za,[t("div",Wa,[t("span",Xa,[d("ALMS BOX"),t("span",null," ("+r(e.characterStore.getEquipementAlmsBox().length)+") ",1)]),t("span",Ka,[d(r(e.characterStore.getItemInventoryWeight("almsBox"))+" ",1),Fa])]),e.displayAlmsBox?(i(),o("div",Ga,[(i(!0),o(v,null,y(e.characterStore.getEquipementAlmsBox(),n=>(i(),_(x,{name:n.name,subname:n.subname,active:n.active,weight:n.weight,quantity:n.quantity,cost:n.cost,notes:n.notes,location:"almsBox"},null,8,["name","subname","active","weight","quantity","cost","notes"]))),256))])):u("",!0),t("div",Qa,[Ja,e.displayAlmsBox?(i(),o("span",{key:0,onClick:a[5]||(a[5]=n=>e.displayAlmsBox=!e.displayAlmsBox),style:{cursor:"pointer"}},"Hide Content")):(i(),o("span",{key:1,onClick:a[6]||(a[6]=n=>e.displayAlmsBox=!e.displayAlmsBox),style:{cursor:"pointer"}},"Show Content"))])])):u("",!0),e.tabSelected=="All"||e.tabSelected=="backpack"?(i(),o("div",Za,[t("div",en,[t("span",tn,[d("BACKPACK"),t("span",null," ("+r(e.characterStore.getEquipementBackpack().length)+") ",1)]),t("span",sn,[d(r(e.characterStore.getItemInventoryWeight("backpack"))+" ",1),an])]),e.displayBackpack?(i(),o("div",nn,[(i(!0),o(v,null,y(e.characterStore.getEquipementBackpack(),n=>(i(),_(x,{name:n.name,subname:n.subname,active:n.active,weight:n.weight,quantity:n.quantity,cost:n.cost,notes:n.notes,location:"backpack"},null,8,["name","subname","active","weight","quantity","cost","notes"]))),256))])):u("",!0),t("div",on,[rn,e.displayBackpack?(i(),o("span",{key:0,onClick:a[7]||(a[7]=n=>e.displayBackpack=!e.displayBackpack),style:{cursor:"pointer"}},"Hide Content")):(i(),o("span",{key:1,onClick:a[8]||(a[8]=n=>e.displayBackpack=!e.displayBackpack),style:{cursor:"pointer"}},"Show Content"))])])):u("",!0)])]))}});const dn=p(ln,[["__scopeId","data-v-58897807"]]),un={class:"wrapper"},hn={props:{base:String},data(){return{tabs:["actions","spells","inventory","features & traits","notes"],selected:"",isSpellcaster:h().character.spellcaster}},methods:{},computed:{handleDisplay(){},realTabs(){return this.isSpellcaster?this.tabs:this.tabs.filter(s=>s!="spells")}},created(){},mounted(){}},pn=g({...hn,__name:"PrimaryBoxBlock",setup(s){return(e,a)=>(i(),o("div",un,[t("nav",null,[f(D,{onSelected:a[0]||(a[0]=n=>e.selected=n),tabs:e.realTabs},null,8,["tabs"])]),t("div",null,[e.selected=="actions"?(i(),_(js,{key:0})):u("",!0),e.selected=="spells"&&e.isSpellcaster?(i(),_(da,{key:1})):u("",!0),e.selected=="inventory"?(i(),_(dn,{key:2})):u("",!0)])]))}});const _n=p(pn,[["__scopeId","data-v-2ecd9bc9"]]),mn="/vue_website/assets/up-arrow-2fdf0080.svg",vn="/vue_website/assets/down-arrow-bc0fd505.svg",A=s=>($("data-v-9ac0d644"),s=s(),b(),s),gn={class:"wrap"},fn=A(()=>t("div",{class:"title"},"Manage Coin",-1)),yn={class:"available"},$n=A(()=>t("div",{class:"upper title"},"my coins",-1)),bn={class:"section"},kn={class:"total"},Sn=A(()=>t("div",null,[t("span",{class:"bold"},"Total "),d(" (in "),t("span",{class:"bold"},"gp"),d(")")],-1)),wn={class:"flex"},Cn={style:{"margin-top":"1px"}},In={class:"flex"},Mn=["src"],An=["src"],Bn=["src"],Hn={key:0,class:"details"},Tn={class:"row"},qn={class:"flex"},Nn=["src"],Pn={class:"flex-column"},jn={class:"sub-content"},xn=["onChange","name","value"],En={class:"adjust"},Vn=A(()=>t("div",{class:"upper title"},"Adjust coin",-1)),Dn={class:"input-container flex"},On={class:"flex-row"},Ln={class:"flex-center"},Yn=["src"],Un={style:{"line-height":"1.5"},class:"upper bold"},Rn=["name"],zn={class:"button-container"},Wn=A(()=>t("span",{class:"sign"},"+",-1)),Xn=A(()=>t("span",{class:"sign minus"},"-",-1)),Kn=A(()=>t("span",{class:"sign"},"X",-1)),Fn={emits:["valueChange","adjustCoin"],props:{base:String,total:Number,copper:Number,silver:Number,electrum:Number,gold:Number,platinum:Number},data(){return{characterStore:h(),detailOpen:!0,details:[{name:"Platinum (pp)",convertion:"1pp = 10gp",quantite:this.platinum,src:ee,nameComp:"platinum",acronyme:"pp"},{name:"Gold (gp)",convertion:"",quantite:this.gold,src:O,nameComp:"gold",acronyme:"gp"},{name:"Electrum (ep)",convertion:"1gp = 2ep",quantite:this.electrum,src:Z,nameComp:"electrum",acronyme:"ep"},{name:"Silver (sp)",convertion:"1gp = 10sp",quantite:this.silver,src:J,nameComp:"silver",acronyme:"sp"},{name:"Copper (cp)",convertion:"1gp = 100cp",quantite:this.copper,src:Q,nameComp:"copper",acronyme:"cp"}]}},methods:{adjustCoins(s){let e=[{name:this.$refs.pp[0].name,value:this.$refs.pp[0].value,adding:s.target.name=="add"},{name:this.$refs.gp[0].name,value:this.$refs.gp[0].value,adding:s.target.name=="add"},{name:this.$refs.ep[0].name,value:this.$refs.ep[0].value,adding:s.target.name=="add"},{name:this.$refs.sp[0].name,value:this.$refs.sp[0].value,adding:s.target.name=="add"},{name:this.$refs.cp[0].name,value:this.$refs.cp[0].value,adding:s.target.name=="add"}];console.log(e,s.target.name),this.$emit("adjustCoin",e),this.clearInputs()},clearInputs(){this.$refs.pp[0].value=null,this.$refs.gp[0].value=null,this.$refs.ep[0].value=null,this.$refs.sp[0].value=null,this.$refs.cp[0].value=null}},computed:{detailsComp(){return this.details.forEach(s=>{s.quantite=this[s.name.split(" ")[0].toLowerCase()]}),this.details}},created(){},mounted(){}},Gn=g({...Fn,__name:"MoneyManager",setup(s){return(e,a)=>{var n;return i(),o("div",gn,[fn,t("div",yn,[$n,t("div",bn,[t("div",kn,[Sn,t("div",wn,[t("span",Cn,r((n=s.total)==null?void 0:n.toFixed(2)),1),t("div",In,[t("img",{class:"coin-icon-small",src:C(O),alt:"gold icon"},null,8,Mn),e.detailOpen?(i(),o("span",{key:0,class:"coin-icon-small",onClick:a[0]||(a[0]=c=>e.detailOpen=!e.detailOpen)},[t("img",{src:C(mn),alt:"up arrow"},null,8,An)])):(i(),o("span",{key:1,class:"coin-icon-small",onClick:a[1]||(a[1]=c=>e.detailOpen=!e.detailOpen)},[t("img",{src:C(vn),alt:"down arrow"},null,8,Bn)]))])])]),e.detailOpen?(i(),o("div",Hn,[(i(!0),o(v,null,y(e.detailsComp,c=>(i(),o("div",Tn,[t("div",qn,[t("img",{class:"coin-icon-big",src:c.src,alt:"platinum coin"},null,8,Nn),t("div",Pn,[t("span",null,r(c.name),1),t("span",jn,r(c.convertion),1)])]),t("input",{class:"coin-input",type:"number",onChange:l=>e.$emit("valueChange",{name:c.nameComp,value:parseInt(l.target.value)}),name:"quantite"+c.name,value:c.quantite,min:"0"},null,40,xn)]))),256))])):u("",!0)])]),t("div",En,[Vn,t("div",Dn,[(i(!0),o(v,null,y(e.details,c=>(i(),o("div",On,[t("div",Ln,[t("img",{class:"coin-icon-small",src:c.src,alt:""},null,8,Yn),t("span",Un,r(c.acronyme),1)]),t("input",{class:"coin-input-small",ref_for:!0,ref:c.acronyme,name:c.nameComp,type:"number",min:"0"},null,8,Rn)]))),256))]),t("div",zn,[t("button",{name:"add",onClick:a[2]||(a[2]=(...c)=>e.adjustCoins&&e.adjustCoins(...c)),class:"adjust-input add"},[Wn,d(" ADD")]),t("button",{name:"remove",onClick:a[3]||(a[3]=(...c)=>e.adjustCoins&&e.adjustCoins(...c)),class:"adjust-input remove"},[Xn,d(" REMOVE")]),t("button",{onClick:a[4]||(a[4]=(...c)=>e.clearInputs&&e.clearInputs(...c)),class:"adjust-input clear"},[Kn,d(" CLEAR")])])])])}}});const te=p(Gn,[["__scopeId","data-v-9ac0d644"]]),I=s=>($("data-v-254fd17f"),s=s(),b(),s),Qn={class:"wrap"},Jn=I(()=>t("div",{class:"title"},"HP Management",-1)),Zn={class:"manager-header"},ei={class:"manager-header-element"},ti=I(()=>t("span",{class:"title"},"CURRENT HP",-1)),si={class:"manager-header-element"},ai=I(()=>t("span",{class:"title"},"MAX HP",-1)),ni={class:"green"},ii={class:"manager-header-element"},oi=I(()=>t("span",{class:"title"},"TEMP HP",-1)),ri=["value"],ci={class:"inputs"},li={style:{display:"flex","flex-direction":"column","justify-content":"space-evenly"}},di={class:"heal box"},ui=I(()=>t("span",{class:"green"},"HEALING",-1)),hi={class:"health-box"},pi=I(()=>t("span",{style:{"text-transform":"uppercase","font-weight":"bold"}},"new hp",-1)),_i={style:{"font-size":"22px"}},mi={class:"damage box"},vi=I(()=>t("span",{class:"red"},"DAMAGE",-1)),gi=I(()=>t("div",{style:{display:"flex","flex-direction":"column","justify-content":"space-evenly"}},[t("button",{class:"buttons plus"}),t("button",{class:"buttons minus"})],-1)),fi={emits:["valueChange","adjustCoin"],props:{},data(){return{characterStore:h(),character:h().character,healValue:0,damageValue:0}},methods:{test(s){s.target==this.$refs.healInput?this.damageValue=0:s.target==this.$refs.damageInput&&(this.healValue=0),console.log(this.$refs.healInput.value,this.$refs.damageInput.value)}},computed:{newHp(){console.log(this.healValue);let s=this.character.health.current+this.healValue-this.damageValue;return s>this.character.health.max&&(s=this.character.health.max),s<0&&(s=0),s}},created(){},mounted(){}},yi=g({...fi,__name:"HealthManager",setup(s){return(e,a)=>(i(),o("div",Qn,[Jn,t("div",Zn,[t("div",ei,[ti,t("span",null,r(e.character.health.current),1)]),t("div",si,[ai,t("span",ni,r(e.character.health.max),1)]),t("div",ii,[oi,t("input",{class:"manager-input-small",type:"number",name:"temp-hp",value:e.character.health.temp},null,8,ri)])]),t("div",ci,[t("div",li,[t("div",di,[ui,L(t("input",{ref:"healInput",class:"box-inputs",type:"number",min:"0",onClick:a[0]||(a[0]=(...n)=>e.test&&e.test(...n)),onKeyup:a[1]||(a[1]=(...n)=>e.test&&e.test(...n)),"onUpdate:modelValue":a[2]||(a[2]=n=>e.healValue=n)},null,544),[[Y,e.healValue]])]),t("div",hi,[pi,t("span",_i,r(e.newHp),1)]),t("div",mi,[vi,L(t("input",{ref:"damageInput",class:"box-inputs",type:"number",min:"0",onClick:a[3]||(a[3]=(...n)=>e.test&&e.test(...n)),onKeyup:a[4]||(a[4]=(...n)=>e.test&&e.test(...n)),"onUpdate:modelValue":a[5]||(a[5]=n=>e.damageValue=n)},null,544),[[Y,e.damageValue]])])]),gi])]))}});const $i=p(yi,[["__scopeId","data-v-254fd17f"]]),bi={class:"wrapper"},ki={props:{caller:String},data(){return{character:h().character,characterStore:h()}},methods:{changeCoinValue(s){console.log(s),this.characterStore.changeCoinValue(s.name,s.value)},adjustCoin(s){console.log(s),s.forEach(e=>{if(e.value){const a=parseInt(e.value);e.adding?this.characterStore.changeCoinValue(e.name,this.characterStore.getCoinValue(e.name)+a):this.characterStore.changeCoinValue(e.name,this.characterStore.getCoinValue(e.name)-a)}})},closeManager(){this.characterStore.hideManager()}},computed:{coinTotal(){return this.character.inventory.copper/100+this.character.inventory.silver/10+this.character.inventory.electrum/2+this.character.inventory.gold+this.character.inventory.platinum*10}},created(){},mounted(){},components:{MoneyManager:te}},Si=g({...ki,__name:"CharacterManager",setup(s){return(e,a)=>(i(),o("div",bi,[t("button",{onClick:a[0]||(a[0]=(...n)=>e.closeManager&&e.closeManager(...n)),class:"close-button"},"X"),s.caller=="money"?(i(),_(te,{key:0,onValueChange:a[1]||(a[1]=n=>e.changeCoinValue(n)),onAdjustCoin:a[2]||(a[2]=n=>e.adjustCoin(n)),total:e.coinTotal,copper:e.character.inventory.copper,silver:e.character.inventory.silver,electrum:e.character.inventory.electrum,gold:e.character.inventory.gold,platinum:e.character.inventory.platinum},null,8,["total","copper","silver","electrum","gold","platinum"])):u("",!0),s.caller=="health"?(i(),_($i,{key:1})):u("",!0)]))}});const wi=p(Si,[["__scopeId","data-v-c8cc6492"]]),j=s=>($("data-v-2b493ce8"),s=s(),b(),s),Ci={style:{"background-image":"url(https://www.dndbeyond.com/avatars/61/484/636453131399186965.jpeg)","margin-top":"-32px"}},Ii={key:0,class:"manager"},Mi={class:"container"},Ai={class:"statblock-container a"},Bi={class:"passives b"},Hi={class:"skill c"},Ti={class:"substats d"},qi={class:"g health-block"},Ni={class:"inspiration"},Pi=j(()=>t("span",{style:{position:"absolute",bottom:"0","padding-left":"5px","padding-bottom":"4px"}},"INSPIRATION",-1)),ji={class:"initiative-armor e"},xi={class:"initiative-box"},Ei=j(()=>t("span",null,"INITIATIVE",-1)),Vi=["value"],Di={class:"armor-box"},Oi=j(()=>t("span",{style:{"margin-top":"5px"},class:"titre"}," Armor ",-1)),Li=["value"],Yi=j(()=>t("span",{style:{"margin-top":"auto","margin-bottom":"5px"},class:"titre"}," Class ",-1)),Ui={class:"status h"},Ri={class:"primary-box i"},zi={props:{},data(){return{id:this.$route.params.id,blocks:[{name:"strength",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)},{name:"dexterity",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)},{name:"constitution",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)},{name:"intelligence",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)},{name:"wisdom",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)},{name:"charisma",modifier:this.randomMinMax(-5,5),score:this.randomMinMax(0,20)}],character:h().character,inspiration:h().character.inspiration,characterStore:h()}},methods:{randomMinMax(s,e){let a=s+Math.random()*(e+1-s);return Math.floor(a)},roll(s){let e=parseInt(s.target.value);alert(`You rolled ${e+this.randomMinMax(1,20)}`)},closeManager(){this.characterStore.displayManager(),this.characterStore.setManagerCaller("")},updateAc(s){let e=parseInt(s.target.value);Number.isNaN(e)||this.characterStore.changeCharacterAC(e)}},computed:{isManagerOpen(){return this.characterStore.managerOpen},manager(){return this.characterStore.managerCaller}},created(){},mounted(){}},Wi=g({...zi,__name:"CharacterView",setup(s){return(e,a)=>(i(),o("div",Ci,[e.isManagerOpen&&e.manager!==""?(i(),o("div",Ii,[f(wi,{caller:e.manager},null,8,["caller"])])):u("",!0),t("div",Mi,[t("div",Ai,[(i(!0),o(v,null,y(e.character.stats,n=>(i(),_(le,{name:n.name,modifier:n.bonus,score:n.score},null,8,["name","modifier","score"]))),256))]),t("div",Bi,[f(ye),f(Be),f(Re)]),t("div",Hi,[f(tt)]),t("div",Ti,[f(U,{title:"proficiency",content:e.character.proficiency+"",footer:"bonus"},null,8,["content"]),f(U,{title:"walking",content:e.character.speed,footer:"speed",speed:""},null,8,["content"])]),t("div",qi,[t("div",Ni,[t("div",{onClick:a[0]||(a[0]=n=>e.characterStore.setInspiration()),class:k(["box",{checked:e.character.inspiration}])},null,2),Pi]),f(St,{max:e.character.health.max,current:e.character.health.current,temp:e.character.health.temp},null,8,["max","current","temp"])]),t("div",ji,[t("div",xi,[Ei,t("input",{class:"initiative",onClick:a[1]||(a[1]=(...n)=>e.roll&&e.roll(...n)),type:"button",value:e.character.initiative>0?"+"+e.character.initiative:"-"+e.character.initiative},null,8,Vi)]),t("div",Di,[Oi,t("input",{onChange:a[2]||(a[2]=(...n)=>e.updateAc&&e.updateAc(...n)),onKeyup:a[3]||(a[3]=(...n)=>e.updateAc&&e.updateAc(...n)),class:"armor-class-input",type:"number",name:"armor class",value:e.character.armor},null,40,Li),Yi])]),t("div",Ui,[f(Tt,{defences:e.character.defences,conditions:e.character.conditions},null,8,["defences","conditions"])]),t("div",Ri,[f(_n)])])]))}});const Fi=p(Wi,[["__scopeId","data-v-2b493ce8"]]);export{Fi as default};
